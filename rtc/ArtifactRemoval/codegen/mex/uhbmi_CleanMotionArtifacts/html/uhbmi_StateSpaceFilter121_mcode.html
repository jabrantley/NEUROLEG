<!-- saved from url=(0014)about:internet -->
<pre class="code">
<span class="srcline"><span class="lineno"><a href="47,1" id="srcline1"> 1</a></span><span class="line"><span class="keyword">function</span> [ <span class="var type1" id="S2T2U3">Yn</span>, <span class="var type1" id="S3T21U4">Xnn</span> ] = uhbmi_StateSpaceFilter( <span class="var type1" id="S4T2U7">inData</span>, <span class="var type1" id="S5T23U8">A</span>,<span class="var type1" id="S6T24U9">B</span>,<span class="var type1" id="S7T25U10">C</span>,<span class="var type1" id="S8T3U11">D</span>, <span class="var type1" id="S3T21U12">Xnn</span> )</span></span>
<span class="srcline"><span class="lineno"><a href="47,2" id="srcline2"> 2</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="47,3" id="srcline3"> 3</a></span><span class="line"><span class="comment">%#codegen</span></span></span>
<span class="srcline"><span class="lineno"><a href="47,4" id="srcline4"> 4</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="47,5" id="srcline5"> 5</a></span><span class="line"><span class="mxinfo " id="T3:U9">[<span class="var type1" id="S9T3U16">numDataPoints</span>,<span class="var type1" id="S10T3U17">numDataChannels</span>] = size(<span class="var type1" id="S4T2U20">inData</span>)</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="47,6" id="srcline6"> 6</a></span><span class="line"><span class="mxinfo " id="T2:U13"><span class="var type1" id="S2T2U23">Yn</span> = <span class="mxinfo " id="T2:U15">zeros(size(<span class="var type1" id="S4T2U28">inData</span>))</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="47,7" id="srcline7"> 7</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="47,8" id="srcline8"> 8</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="47,9" id="srcline9"> 9</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S13T3U31">ti</span>=<span class="mxinfo " id="T3:U18">1</span>:<span class="var type1" id="S10T3U34">numDataChannels</span></span></span>
<span class="srcline"><span class="lineno"><a href="47,10" id="srcline10">10</a></span><span class="line">    <span class="keyword">for</span> <span class="var type1" id="S14T3U37">to</span>=<span class="mxinfo " id="T3:U21">1:<span class="var type1" id="S9T3U40">numDataPoints</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="47,11" id="srcline11">11</a></span><span class="line">        <span class="mxinfo " id="T3:U23"><span class="var type1" id="S15T3U43">U</span>=<span class="mxinfo " id="T3:U25"><span class="var type1" id="S4T2U45">inData</span>(<span class="var type1" id="S14T3U46">to</span>,<span class="var type1" id="S13T3U47">ti</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="47,12" id="srcline12">12</a></span><span class="line">        <span class="mxinfo " id="T24:U29"><span class="var type1" id="S16T24U50">Xn1</span>=<span class="mxinfo " id="T24:U31"><span class="mxinfo " id="T24:U32"><span class="var type1" id="S5T23U53">A</span>*<span class="mxinfo " id="T24:U34"><span class="var type1" id="S3T21U55">Xnn</span>(<span class="mxinfo " id="T22:U36">:</span>,<span class="var type1" id="S13T3U57">ti</span>)</span></span> + <span class="mxinfo " id="T24:U38"><span class="var type1" id="S6T24U59">B</span>*<span class="var type1" id="S15T3U60">U</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="47,13" id="srcline13">13</a></span><span class="line">        <span class="mxinfo " id="T3:U41"><span class="mxinfo " id="T3:U42"><span class="var type1" id="S2T2U64">Yn</span>(<span class="var type1" id="S14T3U65">to</span>,<span class="var type1" id="S13T3U66">ti</span>)</span>=(<span class="mxinfo " id="T3:U46"><span class="mxinfo " id="T3:U47"><span class="var type1" id="S7T25U71">C</span>*<span class="mxinfo " id="T24:U49"><span class="var type1" id="S3T21U73">Xnn</span>(<span class="mxinfo " id="T22:U51">:</span>,<span class="var type1" id="S13T3U75">ti</span>)</span></span>+<span class="mxinfo " id="T3:U53"><span class="var type1" id="S8T3U77">D</span>*<span class="var type1" id="S15T3U78">U</span></span></span>)'</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="47,14" id="srcline14">14</a></span><span class="line">        <span class="mxinfo " id="T24:U56"><span class="mxinfo " id="T24:U57"><span class="var type1" id="S3T21U82">Xnn</span>(<span class="mxinfo " id="T22:U59">:</span>,<span class="var type1" id="S13T3U84">ti</span>)</span>=<span class="var type1" id="S16T24U85">Xn1</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="47,15" id="srcline15">15</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="47,16" id="srcline16">16</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="47,17" id="srcline17">17</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="47,18" id="srcline18">18</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="47,19" id="srcline19">19</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="47,20" id="srcline20">20</a></span><span class="line"></span></span>
</pre>
